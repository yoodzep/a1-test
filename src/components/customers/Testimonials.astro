---
// Astro
import { Image } from "astro:assets";
// Images
import davidAvatar from "@/images/testimonials/david.png";
import emilyAvatar from "@/images/testimonials/emily.png";
import lisaAvatar from "@/images/testimonials/lisa.png";
import michaelAvatar from "@/images/testimonials/michael.png";
import robertAvatar from "@/images/testimonials/robert.png";
import saraAvatar from "@/images/testimonials/sara.png";
// Fundations
import Text from "@/components/fundations/elements/Text.astro";
import Kicker from "@/components/fundations/elements/Kicker.astro";
import Button from "@/components/fundations/elements/Button.astro";
import Wrapper from "@/components/fundations/containers/Wrapper.astro";
// Icons
import ArrowLeft from "@/components/fundations/icons/ArrowLeft.astro";
import ArrowRight from "@/components/fundations/icons/ArrowRight.astro";
import Star from "@/components/fundations/icons/Star.astro";
const testimonials = [
  {
    quote:
      "Bastion delivered our home build exactly as promised. Clear timelines, consistent communication, and quality workmanship throughout. The attention to detail on-site was evident from start to finish.",
    author: "Sarah Johnson",
    role: "Homeowner",
    location: "Austin, TX",
    avatar: saraAvatar,
  },
  {
    quote:
      "Our office renovation was completed on schedule and without disruption to daily operations. Bastion managed the process professionally and delivered a space that works better for our team.",
    author: "Michael Chen",
    role: "CEO",
    location: "San Francisco, CA",
    avatar: michaelAvatar,
  },
  {
    quote:
      "Bastion handled our hotel build with precision and accountability. They understood the operational requirements of hospitality and delivered a result that met both design and durability standards.",
    author: "Emma Rodriguez",
    role: "Hotel Owner",
    location: "Santa Fe, NM",
    avatar: emilyAvatar,
  },
  {
    quote:
      "From permitting to final handover, Bastion ran our restaurant project efficiently and transparently. The build quality is solid, and the project stayed on budget.",
    author: "David Park",
    role: "Restaurant Owner",
    location: "Portland, OR",
    avatar: davidAvatar,
  },
  {
    quote:
      "Bastion translated our retail requirements into a practical, well-executed build. The team was responsive, organized, and delivered a space that performs as well as it looks.",
    author: "Lisa Thompson",
    role: "Retail Owner",
    location: "Seattle, WA",
    avatar: lisaAvatar,
  },
  {
    quote:
      "Their experience in commercial construction shows. Bastion took control of a complex renovation and delivered a modern, functional workspace without unnecessary delays or surprises.",
    author: "Robert Martinez",
    role: "Operations Director",
    location: "Denver, CO",
    avatar: robertAvatar,
  },
];
---

<section class="overflow-hidden">
  <Wrapper variant="standard" class="py-24">
    <div class="grid grid-cols-1 lg:grid-cols-3 gap-12">
      <Kicker class="text-base-600 text-balance">
        A construction partner trusted by homeowners, developers, and commercial
        clients alike
      </Kicker>

      <div class="lg:col-span-2">
        <Text
          tag="h2"
          variant="displayMD"
          class="font-medium tracking-tight text-balance"
        >
          Real projects, real partners, and results delivered through
          disciplined planning and execution.
        </Text>
        <div class="flex items-center gap-2 mt-8">
          <Button
            iconOnly
            size="xs"
            variant="muted"
            aria-label="Previous testimonial"
            id="testimonials-previous"
          >
            <ArrowLeft size="sm" slot="icon" />
          </Button>
          <Button
            iconOnly
            size="xs"
            variant="muted"
            aria-label="Next testimonial"
            id="testimonials-next"
          >
            <ArrowRight size="sm" slot="icon" />
          </Button>
        </div>
      </div>
    </div>
    <div id="testimonials-slider" class="keen-slider mt-12">
      {
        testimonials.map((testimonial) => (
          <article class="keen-slider__slide">
            <div class="group relative h-full overflow-hidden transition duration-300 ">
              <div class="relative aspect-3/4 overflow-hidden">
                <Image
                  width={500}
                  height={800}
                  src={testimonial.avatar}
                  alt={`${testimonial.author} portrait`}
                  loading="lazy"
                  decoding="async"
                  class="h-full w-full object-cover transition duration-500 group-hover:scale-105"
                />
                <div class="absolute inset-0 flex flex-col justify-between bg-accent-900 p-8 opacity-0 transition duration-300 group-hover:opacity-100">
                  <div class="flex items-center gap-1 ">
                    {Array.from({ length: 5 }).map((_, index) => (
                      <Star aria-hidden="true" class="size-4 text-accent-400" />
                    ))}
                  </div>
                  <Text
                    tag="blockquote"
                    variant="textSM"
                    class="text-base-300  lg:text-lg  leading-relaxed mt-4"
                  >
                    {testimonial.quote}
                  </Text>
                </div>
              </div>
              <div class=" mt-2">
                <Text
                  tag="p"
                  variant="textBase"
                  class="text-accent-900 font-medium "
                >
                  {testimonial.author}
                </Text>
                <Text
                  tag="p"
                  variant="textSM"
                  class="text-base-500 font-medium"
                >
                  {testimonial.role}
                </Text>
              </div>
            </div>
          </article>
        ))
      }
    </div>
  </Wrapper>
</section>
