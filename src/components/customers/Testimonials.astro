---
// Astro
import { Image } from "astro:assets";
// Images - using general images as placeholders
import generalImage1 from "@/images/a1-electrical/General - 1.png";
import generalImage2 from "@/images/a1-electrical/General  - 2.png";
import generalImage3 from "@/images/a1-electrical/General - 3.png";
import generalImage4 from "@/images/a1-electrical/General - 4.png";
// Fundations
import Text from "@/components/fundations/elements/Text.astro";
import Kicker from "@/components/fundations/elements/Kicker.astro";
import Button from "@/components/fundations/elements/Button.astro";
import Wrapper from "@/components/fundations/containers/Wrapper.astro";
// Icons
import ArrowLeft from "@/components/fundations/icons/ArrowLeft.astro";
import ArrowRight from "@/components/fundations/icons/ArrowRight.astro";
import Star from "@/components/fundations/icons/Star.astro";
const testimonials = [
  {
    quote:
      "A1 Electrical rewired our entire 1920s villa. The team was professional, tidy, and explained everything clearly. They even helped us understand the best options for our budget. Highly recommend!",
    author: "Sarah Mitchell",
    role: "Homeowner",
    location: "Dunedin",
    avatar: generalImage1,
  },
  {
    quote:
      "We've used A1 Electrical for all our commercial properties for over 10 years. Reliable, fairly priced, and they always complete jobs on time. Darren and his team are true professionals.",
    author: "James Thompson",
    role: "Property Manager",
    location: "Dunedin",
    avatar: generalImage2,
  },
  {
    quote:
      "The heat pump installation was quick and efficient. The team cleaned up after themselves and took the time to show us how to use the system properly. Great service from start to finish.",
    author: "Helen Roberts",
    role: "Homeowner",
    location: "Mosgiel",
    avatar: generalImage3,
  },
  {
    quote:
      "A1 Electrical handled the complete electrical fit-out for our new cafe. They worked around our schedule and delivered excellent results. We couldn't be happier with the outcome.",
    author: "David Chen",
    role: "Business Owner",
    location: "Dunedin",
    avatar: generalImage4,
  },
];
---

<section class="overflow-hidden">
  <Wrapper variant="standard" class="py-24">
    <div class="grid grid-cols-1 lg:grid-cols-3 gap-12">
      <Kicker class="text-base-600 text-balance">
        Trusted by families and businesses throughout Dunedin and Otago
      </Kicker>

      <div class="lg:col-span-2">
        <Text
          tag="h2"
          variant="displayMD"
          class="font-medium tracking-tight text-balance"
        >
          Real customers, real projects, and quality electrical work delivered with care.
        </Text>
        <div class="flex items-center gap-2 mt-8">
          <Button
            iconOnly
            size="xs"
            variant="muted"
            aria-label="Previous testimonial"
            id="testimonials-previous"
          >
            <ArrowLeft size="sm" slot="icon" />
          </Button>
          <Button
            iconOnly
            size="xs"
            variant="muted"
            aria-label="Next testimonial"
            id="testimonials-next"
          >
            <ArrowRight size="sm" slot="icon" />
          </Button>
        </div>
      </div>
    </div>
    <div id="testimonials-slider" class="keen-slider mt-12">
      {
        testimonials.map((testimonial) => (
          <article class="keen-slider__slide">
            <div class="group relative h-full overflow-hidden transition duration-300">
              <div class="relative aspect-[3/4] overflow-hidden">
                <Image
                  width={500}
                  height={800}
                  src={testimonial.avatar}
                  alt={`Electrical project completed for ${testimonial.author}, ${testimonial.role} in ${testimonial.location}`}
                  loading="lazy"
                  decoding="async"
                  class="h-full w-full object-cover transition duration-500 group-hover:scale-105"
                />
                <div class="absolute inset-0 flex flex-col justify-between bg-accent-900/80 p-8 opacity-0 transition duration-300 group-hover:opacity-100">
                  <div class="flex items-center gap-1">
                    {Array.from({ length: 5 }).map((_, index) => (
                      <Star aria-hidden="true" class="size-4 text-accent-400" />
                    ))}
                  </div>
                  <Text
                    tag="blockquote"
                    variant="textSM"
                    class="text-base-300 lg:text-lg leading-relaxed mt-4"
                  >
                    {testimonial.quote}
                  </Text>
                </div>
              </div>
              <div class="mt-2">
                <Text
                  tag="p"
                  variant="textBase"
                  class="text-accent-900 font-medium"
                >
                  {testimonial.author}
                </Text>
                <Text
                  tag="p"
                  variant="textSM"
                  class="text-base-500 font-medium"
                >
                  {testimonial.role}, {testimonial.location}
                </Text>
              </div>
            </div>
          </article>
        ))
      }
    </div>
  </Wrapper>
</section>
